!function(e){"use strict";var t=e.Disney,i=t.placeSwap=function(e,t){if(!t)return function(t){t&&i(e,t)};t.render(),e.$("#"+t.cid).replaceWith(t.el)};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.$;t.VideoModalView=t.ModalView.extend({required_template_sets:["links"],initialize:function(e){this.options=e||{}},ready:function(){this.options.playerId&&(this.options.data.ads={context:{noAds:function(){return!0}},enabled:!1,targeting:this.getAdPosition()},this.player=new i.MatterhornVideoPlayer(this.options.playerId,{video:this.options.data,autoPlay:!0,autoPlay_mute:!1,showEndCard:!1,showPauseCard:!0,hideLargePlayBtn:!0,clickToPlay:!0,ads:{enabled:!1},parentView:this.$(".video-wrapper")}))},getAdPosition:function(){if(!this.options.cds)return this.adPosition?this.adPosition:(this.adPosition=this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model),this.adPosition)},render:function(){var e={playerId:this.options.playerId,videoEmbedUrl:this.options.videoEmbedUrl};return this.options.template.render(e,this.options.ctx_additions)},events:{"click #modal-close":function(){this.closeVideoModal()}},hide:function(){this.closeVideoModal()},closeVideoModal:function(){this.$(".modal-info").remove(),s("#modal-window").removeClass("show")},show:function(e){t.ModalView.prototype.show.apply(this,e)}})}(this),Whiskers("modules.slider",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b(' <div class="bound '),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.b(s.v(s.f("entity_type",e,t,0))),s.s(s.f("peeking",e,t,1),e,t,1,0,0,"")||s.b(" no-peek"),s.s(s.f("showDetails",e,t,1),e,t,0,168,191,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" show_details_container")}),e.pop()),s.b('"> '),s.s(s.d("style_options.overlay_styles",e,t,1),e,t,0,243,277,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="module_overlay"></div>')}),e.pop()),s.b(" "),s.s(s.f("header_data",e,t,1),e,t,0,327,345,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(" "),s.b(' <div class="slides peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.s(s.d("header_data.icon_type",e,t,1),e,t,0,438,469,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" icon-"),i.b(i.v(i.d("header_data.icon_type",e,t,0)))}),e.pop()),s.s(s.f("show_episode_info",e,t,1),e,t,0,517,524,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" series")}),e.pop()),s.b('"> <ol class="slider-list peek-'),s.b(s.v(s.f("rpp",e,t,0))),s.b('"> '),s.s(s.f("pages",e,t,1),e,t,0,597,716,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("cols",e,t,0))),i.b(" rows-"),i.b(i.v(i.f("rows",e,t,0))),i.b('"> '),i.b(i.rp("<partials/slider_page1",e,t,"")),i.b(" </ul> </li> ")}),e.pop()),s.b(' </ol> <div class="peek"></div> '),s.b(" </div> "),s.s(s.f("showDetails",e,t,1),e,t,0,817,1211,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="slider-details-container"> <div class="aspect"> <img class="thumb" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("thumb_data.src",e,t,0))),i.b('" src="'),i.b(i.v(i.d("thumb_data.src",e,t,0))),i.b('"> </div> <div class="details-text" tabindex=-1> <h1 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <p class="alt-display-name '),i.s(i.f("alt_display_name",e,t,1),e,t,1,0,0,"")||i.b("no-name"),i.b('">'),i.b(i.v(i.f("alt_display_name",e,t,0))),i.b('</p> <p class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> ")}),e.pop()),s.b(" "),s.s(s.f("seeAll",e,t,1),e,t,0,1239,1364,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="see-all-below"> <div class="see-all-container"> <a href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a> </div> </div> ")}),e.pop()),s.b(" </div>"),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<partials/slider_page1":{name:"partials/slider_page",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_page",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<ul class="col-container cols-'),s.b(s.v(s.f("cols",e,t,0))),s.b(" rows-"),s.b(s.v(s.f("rows",e,t,0))),s.b('"> '),s.s(s.f("models",e,t,1),e,t,0,66,293,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <li class="col item'),i.s(i.f("widthClass",e,t,1),e,t,0,101,116,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),i.s(i.f("hidden",e,t,1),e,t,0,142,156,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" lazy-deferred")}),e.pop()),i.b('"> '),i.b(" "),i.b(i.rp("<partials/slider_item0",e,t,"")),i.b(" </li> ")}),e.pop()),s.b(" </ul>"),s.fl()},partials:{"<partials/slider_item0":{name:"partials/slider_item",partials:{},subs:{}}},subs:{}}),Whiskers("partials.slider_item",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("is_ad",e,t,1),e,t,1,0,0,"")||s.b(s.rp("<entity_container0",e,t,"")),s.b(" "),s.s(s.f("is_ad",e,t,1),e,t,0,52,66,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("adMarkup",e,t,0)))}),e.pop()),s.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dayjs=t()}(this,function(){"use strict";var e="millisecond",t="second",i="minute",s="hour",a="day",n="week",o="month",r="quarter",l="year",d="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,h=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(e,t,i){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(i)+e},p={s:u,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),s=Math.floor(i/60),a=i%60;return(t<=0?"+":"-")+u(s,2,"0")+":"+u(a,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var s=12*(i.year()-t.year())+(i.month()-t.month()),a=t.clone().add(s,o),n=i-a<0,r=t.clone().add(s+(n?-1:1),o);return+(-(s+(i-a)/(n?a-r:r-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:o,y:l,w:n,d:a,D:d,h:s,m:i,s:t,ms:e,Q:r}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f="en",g={};g[f]=m;var v=function(e){return e instanceof w},b=function(e,t,i){var s;if(!e)return f;if("string"==typeof e)g[e]&&(s=e),t&&(g[e]=t,s=e);else{var a=e.name;g[a]=e,s=a}return!i&&s&&(f=s),s||!i&&f},_=function(e,t){if(v(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new w(i)},y=p;y.l=b,y.i=v,y.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var w=function(){function u(e){this.$L=this.$L||b(e.locale,null,!0),this.parse(e)}var p=u.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(c);if(s){var a=s[2]-1||0,n=(s[7]||"0").substring(0,3);return i?new Date(Date.UTC(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)):new Date(s[1],a,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return y},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(e,t){var i=_(e);return this.startOf(t)<=i&&i<=this.endOf(t)},p.isAfter=function(e,t){return _(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<_(e)},p.$g=function(e,t,i){return y.u(e)?this[t]:this.set(i,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,r){var c=this,h=!!y.u(r)||r,u=y.p(e),p=function(e,t){var i=y.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return h?i:i.endOf(a)},m=function(e,t){return y.w(c.toDate()[e].apply(c.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},f=this.$W,g=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case l:return h?p(1,0):p(31,11);case o:return h?p(1,g):p(0,g+1);case n:var _=this.$locale().weekStart||0,w=(f<_?f+7:f)-_;return p(h?v-w:v+(6-w),g);case a:case d:return m(b+"Hours",0);case s:return m(b+"Minutes",1);case i:return m(b+"Seconds",2);case t:return m(b+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(n,r){var c,h=y.p(n),u="set"+(this.$u?"UTC":""),p=(c={},c[a]=u+"Date",c[d]=u+"Date",c[o]=u+"Month",c[l]=u+"FullYear",c[s]=u+"Hours",c[i]=u+"Minutes",c[t]=u+"Seconds",c[e]=u+"Milliseconds",c)[h],m=h===a?this.$D+(r-this.$W):r;if(h===o||h===l){var f=this.clone().set(d,1);f.$d[p](m),f.init(),this.$d=f.set(d,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[y.p(e)]()},p.add=function(e,r){var d,c=this;e=Number(e);var h=y.p(r),u=function(t){var i=_(c);return y.w(i.date(i.date()+Math.round(t*e)),c)};if(h===o)return this.set(o,this.$M+e);if(h===l)return this.set(l,this.$y+e);if(h===a)return u(1);if(h===n)return u(7);var p=(d={},d[i]=6e4,d[s]=36e5,d[t]=1e3,d)[h]||1,m=this.$d.getTime()+e*p;return y.w(m,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var i=e||"YYYY-MM-DDTHH:mm:ssZ",s=y.z(this),a=this.$locale(),n=this.$H,o=this.$m,r=this.$M,l=a.weekdays,d=a.months,c=function(e,s,a,n){return e&&(e[s]||e(t,i))||a[s].substr(0,n)},u=function(e){return y.s(n%12||12,e,"0")},p=a.meridiem||function(e,t,i){var s=e<12?"AM":"PM";return i?s.toLowerCase():s},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:y.s(r+1,2,"0"),MMM:c(a.monthsShort,r,d,3),MMMM:c(d,r),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:c(a.weekdaysMin,this.$W,l,2),ddd:c(a.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(n),HH:y.s(n,2,"0"),h:u(1),hh:u(2),a:p(n,o,!0),A:p(n,o,!1),m:String(o),mm:y.s(o,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:s};return i.replace(h,function(e,t){return t||m[e]||s.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(e,d,c){var h,u=y.p(d),p=_(e),m=6e4*(p.utcOffset()-this.utcOffset()),f=this-p,g=y.m(this,p);return g=(h={},h[l]=g/12,h[o]=g,h[r]=g/3,h[n]=(f-m)/6048e5,h[a]=(f-m)/864e5,h[s]=f/36e5,h[i]=f/6e4,h[t]=f/1e3,h)[u]||f,c?g:y.a(g)},p.daysInMonth=function(){return this.endOf(o).$D},p.$locale=function(){return g[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),s=b(e,t,!0);return s&&(i.$L=s),i},p.clone=function(){return y.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},u}(),$=w.prototype;return _.prototype=$,[["$ms",e],["$s",t],["$m",i],["$H",s],["$W",a],["$M",o],["$y",l],["$D",d]].forEach(function(e){$[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),_.extend=function(e,t){return e(t,w,_),_},_.locale=b,_.isDayjs=v,_.unix=function(e){return _(1e3*e)},_.en=g[f],_.Ls=g,_}),function(e){"use strict";var t=function(t,i,s,a,n,o,r){var l=e.dayjs,d=i||{},c=s||{},h=d.streaming_now||"Streaming Now",u=d.streaming||"Streaming",p=d.on_blu_ray_dvd_digital||"On Blu-Ray, DVD, Digital",m=d.now_on_digital||"Now on Digital",f=d.on_digital||"On Digital",g=d.available_to_pre_order||"Available to Preorder",v=d.in_theaters_now||"In Theaters Now",b=d.in_theaters||"In Theaters",_=d.coming_soon||"Coming Soon",y=parseInt(c.coming_soon,10)||200,w=parseInt(c.available_to_preorder,10)||30,$=parseInt(c.on_digital,10)||15,x=parseInt(c.streaming,10)||14,k="MMMM D, YYYY",S=l(a,k),C=n?l(n,k):null,I=o?l(o,k):null,P=r?l(r,k):null;return l().isSame(I,"day")?h:l().isAfter(I)?h:l().add(x,"d").isAfter(I,"day")?u+" "+o:l().isSame(P,"day")?p:l().isSame(C,"day")?m:!l().isAfter(C)||P||I?l().isAfter(C)&&P&&l().isAfter(P)?p:l().add($,"d").isAfter(C)?f+" "+n:l().add(w,"d").isAfter(C)?g:l().isSame(S,"day")?v:l().isAfter(S)?v:S.isAfter(l())&&l().add(y,"d").isAfter(S)?b+" "+a:S.isAfter(l().add(200,"d"))?_:!a&&_:m};e.MovieDate={formatReleaseDate:t}}(this),Whiskers("modals.video",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="modal-info'),s.s(s.f("playerId",e,t,1),e,t,0,35,49,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" native-player")}),e.pop()),s.b('"> <button id="modal-close" class="top-right hidden ada-el-focus" aria-label="Close"></button> <div class="modal-content"> <div class="video-wrapper"> '),s.s(s.f("videoEmbedUrl",e,t,1),e,t,0,231,372,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <iframe class="video-iframe" width="100%" height="100%" src="'),i.b(i.v(i.f("videoEmbedUrl",e,t,0))),i.b('" frameborder="0" allow="autoplay" allowfullscreen> </iframe> ')}),e.pop()),s.b(" "),s.s(s.f("playerId",e,t,1),e,t,0,404,472,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div id="'),i.b(i.v(i.f("playerId",e,t,0))),i.b('-container"><div id="'),i.b(i.v(i.f("playerId",e,t,0))),i.b('"></div></div>')}),e.pop()),s.b(" </div> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Backbone,a=s.View,n=e.Whiskers,o=e.Tracker,r=e.jQuery,l=e._,d=e.MovieDate,c=i.Style.breakpoints,h=i.Style.custom_breakpoints,u=l.values(c),p=s.Resize.width,m=i.Ads||{},f=m.ShareThroughAds,g=function(e){return null!=e&&(e=r.trim(e).toLowerCase().replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g,"_")),e},v=e.SwipeView=t.ModuleView.extend({style_classes:["slider-view","pagination-styles"],required_template_sets:["module_header","entities"],breakpoints:u.join(" "),template:n.modules.slider,events:{slide:function(e,t,i){e.preventDefault(),this.$(".slides").toggleClass("peeking",t!==this.collection.lastIndex(this.rpp()));var s=this.rpp()*(t+1),a=this.cols(),n=s+a,o=this.collection.first(n);if(this.$pages&&t>0){var d=r(this.$pages[t]).find(".item"),c=r(this.$pages[t+1]).find(".item").slice(0,this.rows());d.add(c).enableLazyLoad().loadLazyImages()}t>i?this.trackSlide("next",e):t<i&&this.trackSlide("prev",e),l.each(o,function(e){e.set({hidden:!1})}),this.currentPage=t,this.$(".entity-link.title-link").attr("tabindex",-1)},"click .youtube-url":function(e){if(!(this.model.get("config_options")||{}).open_youtube_lightbox)return!0;e.preventDefault();var t=r(e.currentTarget),i=t[0].getAttribute("data-youtube-id"),s=["https://www.youtube.com/embed/",i,"?rel=0&autohide=1&showinfo=0&color=white&wmode=opaque&autoplay=1;enablejsapi=1&rel=0"].join("");this.launchVideoModal({videoEmbedUrl:s})},"click .entity-type-video":function(e){var t=this.model.get("config_options");if(t&&t.open_native_video_lightbox){e.preventDefault();var i=r(e.currentTarget.parentNode).index(),s=this.currentPage*this.rppVal+i;this.launchVideoModal({data:this.model.get("data")[s],playerId:["player",this.model.get("ref"),this.currentPage,i,s].join("-")})}}},launchVideoModal:function(e){new t.VideoModalView({template:n.modals.video,name:"video-modal",ctx_additions:this.ctx_additions(),videoEmbedUrl:e.videoEmbedUrl,data:e.data,playerId:e.playerId}).show()},trackSlide:function(e){if(o){var t="arrow_"+e,i=this.$el.data("module"),s=r(".module").index(this.$el),a=this.ctoTitle();o.event({engagementType:t,engagementMeta:a+"/"+i+"/mod"+(s+1)})}},ctoTitle:function(){var e=this.model.get("title");return g(e)},initialize:function(e){this.options=e||{};var t=this.model.get("config_options"),a=this.model.get("style_options");this.model.data.set(this.model.data.models.filter(function(e){return"Recommendation"!==e.get("type")})),this.collection=new s.LazySliderCollection(this.model.data.models),t&&t.native_ads&&f&&!this.options.cds&&(this.shareThrough=new f,this.shareThrough.loadScriptError||(this.shareThrough.insertModel(this.collection,0),this.shareThrough.scriptElem.addEventListener("scriptLoadError",function(){this.hasEmptyAdSlot=!0,this.removeEmptyAdSlot()}.bind(this))));var n=l.chain(this.collection.pluck("entity_type")).compact().uniq().first().value();if(l.extend(this,{entity_type:n||this.model.get("type"),lastPage:0,startingCount:this.index=this.collection.startingIndex,slideTime:500,init:!1,translations:this.model.get("translations")||{}}),this.collection.on("remove",function(){this.resize()},this),this.needsGuestContext()&&i.guest.retain(),this.configureData&&this.configureData(),this.stylePack=this.model.collection&&this.model.collection.style,this.customSliderStyles=this.stylePack&&this.stylePack.custom_slider_styles,this.customSliderStyles){this.sliderLeftPeek=this.customSliderStyles.slider_left_peek;var o=this&&this.customSliderStyles,r=o&&o.left_arrow_svg||"",d=r&&r.indexOf("?");this.leftArrowSvg=d>=1?r.split("?")[0]:r}(this.sliderLeftPeek?this.align_arrows_vert="thumbnail":this.customSliderStyles&&this.customSliderStyles.align_arrows_vert?this.align_arrows_vert=this.customSliderStyles.align_arrows_vert:a&&a.custom_arrow_options&&a.custom_arrow_options.align_arrows_vert?this.align_arrows_vert=a.custom_arrow_options.align_arrows_vert:this.align_arrows_vert||(this.align_arrows_vert="content"),t&&t.open_native_video_lightbox)&&((this.model.get("data")||[]).some(function(e){return e.flavors})&&(this.assets={scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-ff11179f50e4.js"]}))},destroy:function(){this.needsGuestContext()&&i.guest&&i.guest.release()},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:function(){return p()>=c.midHigh},getItemsPerRow:function(e){var t=p();return e&&t<=c.max?Math.min(e,4):e&&t<=c.midHigh?Math.min(e,2):e},render:function(){var e=this,t=e.model,i=e.cols(),s=e.rows(),a=e.rpp(),o=e.details;e.pages=this.collection.page(this.index,a,s,i),this.formatFeatured&&this.formatFeatured();var r=this.getDeviceSize(),d=l.extend({rpp:a,cols:i,rows:s,peeking:this.peeking(a),entity_type:e.entity_type,seeAll:t.get("seeAll"),showDetails:o,href_target:n.partials.href_target,image_asset_src:function(){return this.getSizedImage(this,r)}},this.options.ads.helpers(this.model.toJSON(),this.getAdPosition()),this.model);e.length=e.pages.length,e.$el.html(e.template.render(d,this.ctx_additions())),this.renderPages(),this.adListeners()},renderPages:function(){var e=this,t=e.cols(),i=e.rows(),s=e.rpp();e.rppVal=s,e.pageViews=[],e.itemViews=[],e.pages&&(e.itemViews=e.createItemViews(),e.pages.forEach(function(a,n){var o=e.createPageView(t,i);e.pageViews.push(o),e.appendPageView(o),e.itemViews.slice(n*s,(n+1)*s).forEach(function(e){o.appendItemView(e)})}))},ready:function(){var t=e.window.innerWidth>c.midLow,s=t&&this.$(".slider-page").length>1,a=!(!s||!this.sliderLeftPeek),n=this.peekAmount(),o=this&&this.transformAmount&&this.transformAmount()||0,r=this.translations||{};if(this.$(".dots").remove(),this.init=!0,this.$(".slides ol").swipeasaurus({arrows:!0,prevLabel:r.previous_slide||"Previous",nextLabel:r.next_slide||"Next",loop:!1,right:n,left:a?n:0,index:this.index,speed:this.slideTime,rtl:i.rtl,dots:this.show_dots,transformAmount:o}),this.init=!1,this.$pages=this.$(".slides ol > li"),a){var l=100*n+"%";this.alignArrowsHoriz(l),this.alignHeaderLeft(l)}this.leftArrowSvg&&t&&this.injectLeftArrowSvg(),"thumbnail"===this.align_arrows_vert&&this.rows()<2&&this.alignArrowsVert(),this.$(".entity-link.title-link").attr("tabindex",-1),this.hasEmptyAdSlot&&this.removeEmptyAdSlot()},resize:function(){var e=this,t=e.pages,i=e.cols(),s=e.rows(),a=e.rpp(),n=e.peeking(),o=e.peekAmount(),d=e.rppVal||a,c=0,h=0;e.rppVal=a,e.pages=e.collection.page(e.index,a,s,i),e.$slides=r(".slides, .slides ol"),c=Math.max(0,e.pages.length-t.length),h=Math.max(0,t.length-e.pages.length),c&&l.times(c,function(){var t=e.createPageView(i,s);e.appendPageView(t),e.pageViews.push(t)}),e.pages.forEach(function(t,n){e.itemViews.slice(n*a,(n+1)*a).forEach(function(t){e.pageViews[n].appendItemView(t).updateColRows(i,s)})}),h&&l.times(h,function(){e.pageViews.pop().remove()}),a&&d&&a!==d&&e.$slides.removeClass("peek-"+d).addClass("peek-"+a),n&&o>0?(e.$slides.removeClass("peek-"+d),e.$slides.addClass("peek-"+a),e.$(".bound").removeClass("no-peek")):e.$(".bound").addClass("no-peek"),e.ready()},peeking:function(e){return!!this.collection.peeking&&this.collection.peeking(e)},rows:function(){return(this.model.get("config_options")||{}).num_rows||1},rpp:function(){return this.cols()*this.rows()},cols:function(){var e=p(),t=this.wide(),i=this.collection.first(),s=i&&i.get("entity_config"),a=s&&s.aspect_ratio,n=this.model.get("style_options").items_per_row_override;if(n&&t)return this.getItemsPerRow(n);switch(a){case"poster":case"dvd_case":case"letter":return t?4:e>=c.midLow?3:2;case"baseball_card":return e>=c.max?5:t?4:e>=c.midLow?3:2;case"square":return e>=c.max?4:t?3:2;case"16x9":case"4x3":case"poster_landscape":return t?3:e>=c.midLow?2:1;case"widescreen":return e>=c.midHigh?2:1;default:return t?3:2}},createPageView:function(e,t){return new _({cols:e,rows:t})},appendPageView:function(e){this.$(".slides ol").append(e.$el)},createItemViews:function(){var e=this,t=e.model&&e.model.get("config_options"),i=e.collection&&e.collection.first().get("entity_config"),s=e.model&&e.model.get("translations"),a=e.model&&e.model.get("data")&&e.model.get("data")[0].item_titles_below,n=t&&t.display_movie_release_date,o=t&&t.phase_message_below,r=i&&i.display_actor_name;return e.collection.map(function(t){var i={model:t,translations:e.translations};if(i.hide_slider_titles=!a,e.shareThrough&&e.shareThrough.shouldRenderSlot(t,e.model)){var c=e.shareThrough.getPlacementKey(e.model);c&&(i.adMarkup=e.options.ads.tagWithTargeting("native",{strnativekey:c}))}if(n){var h=t.get("release"),u=t.get("digital_released_on"),p=t.get("streaming_released_on"),m=t.get("physical_released_on"),f=l.extend(s,e.model.collection.translations),g=e.model.collection.movie_date_config;i.movie_release_date_formatted=d.formatReleaseDate(t.get("title"),f,g,h,u,p,m)}if(o){i.display_phase_message=o;var v=t.get("phase_message");v&&(i.phase_message_output=v)}if(r){var _=t.get("alt_display_name");_&&(i.actor_name=_)}if("flexgrid"===t.get("entity_type")){var y=e.getDeviceSize(),w=t.get("image_assets"),$=w&&w.background;i.image_asset_src=e.getSizedImage($,y)}return new b(i)})},getSizedImage:function(e,t){return e&&(e[t]||l.first(l.values(e)))},getDeviceSize:function(){return s.Resize.width()>=c.midHigh?"desktop":"mobile"},adListeners:function(){var e=this,t=this.$(".gpt");if(t.length){var i=this.options.ads.findSlotById(t.attr("id"));i&&i.events.on("slotRenderEnded",function(t){t.isEmpty&&e.removeEmptyAdSlot()})}else e.removeEmptyAdSlot()},getAdPosition:function(){if(!this.options.cds)return this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model)},removeEmptyAdSlot:function(){var e=l.find(this.itemViews,function(e){return!0===e.model.get("is_ad")});if(e){var t=this.itemViews.indexOf(e);if(t>=0&&this.itemViews.splice(t,1),this.collection.remove(e.model),this.hasEmptyAdSlot=!1,this.$pages&&this.$pages.length>1){r(this.$pages[1]).find(".item").slice(0,this.rows()).enableLazyLoad().loadLazyImages()}}},alignArrowsHoriz:function(e){var t=this.$(".next"),s=this.$(".prev");this.model.get("data")[0].item_titles_below&&this.$(".entity-details").addClass("visible"),i.rtl?(t.css("left",e),s.css("right",e)):(t.css("right",e),s.css("left",e))},alignArrowsVert:function(){var e=this.$(".next"),t=this.$(".prev"),i=this.$(".slider-page").first(),s=i.outerHeight(),a=parseInt(i.css("padding-top"),10),n=this.$(".slider-page img").first().outerHeight(),o=s-n;e.add(t).css("margin-top",a-o/2)},alignHeaderLeft:function(e){this.$(".module_header").closest(".slider-view").hasClass("header-center")||this.$(".module_header").css("left",e)},injectLeftArrowSvg:function(){if(!this.leftArrowInjected){var e,t=r("button.prev, button.next",this.el),i=this.customSliderStyles.slider_color_theme,s=this.customSliderStyles.button_color_override,a=this.customSliderStyles.arrow_color_override;if(i&&t.addClass(i),t.addClass("inject-left-arrow-svg"),a)e=a;else if("main-background"===i){var n=this.stylePack.page_background_styles&&this.stylePack.page_background_styles.bg_color;e=n||"#1938ce"}s&&(t.removeClass(i),t.css("background-color",s)),r.get(this.leftArrowSvg,function(i){var s=r(i).find("svg")[0];s&&(e?r(s).find("[fill]").attr("fill",e):r(s).find("[fill]").prop("fill",!1),t.html(s)),t.html(s),t.css("background-image","none")},"xml"),this.leftArrowInjected=!0}}}),b=a.extend({template:n.partials.slider_item,tagName:"li",className:"col item",initialize:function(e){this.options=e||{},this.model=this.options.model,this.model.on("remove",function(){this.remove()},this),this.render(),this.addCssClasses()},render:function(){var e={item:n.entities.item,entity_container:n.entities.entity_container,"entities/entity_play_icon":n.entities.entity_play_icon,"entities/entity_overlay_video":n.entities.entity_overlay_video,"entities/entity_item_count":n.entities.entity_item_count,image_attributes:n.partials.image_attributes,href_attributes:n.partials.href_attributes,href_target:n.partials.href_target},t=l.extend(this.model.toJSON(),this.options),i=t.href||"",s=["https://youtu.be","https://youtube.com","https://www.youtube.com"],a=l.find(s,function(e){return i.startsWith(e)});t.is_youtube=a,t.aria_label=this.model.get("title"),this.$el.html(this.template.render(t,e))},addCssClasses:function(){var e=[];this.model.get("hidden")&&e.push("lazy-deferred"),this.model.get("widthClass")&&e.push(this.model.get("widthClass")),e.length&&this.$el.addClass(e.join(" "))}}),_=a.extend({template:n.partials.slider_page,tagName:"li",className:"slider-page",initialize:function(e){this.options=e||{},l.defaults(this.options,{cols:1,rows:1}),this.render()},updateColRows:function(e,t){e&&e!==this.options.cols&&(this.updateClass("cols",this.options.cols,e),this.options.cols=e),t&&t!==this.options.rows&&(this.updateClass("rows",this.options.rows,t),this.options.rows=t)},updateClass:function(e,t,i){this.$el.children("ul").removeClass(e+"-"+t).addClass(e+"-"+i)},appendItemView:function(e){return this.$("ul").append(e.$el),this},render:function(){this.$el.html(this.template.render(this.options))}});v.register("slider",{}),v.register("seo_link_slider",{}),v.register("grid",{peeking:function(){return!1},rows:function(){return 2}}),v.register("characters",{cols:function(){var e=p(),t=this.wide();return e>=c.max?5:t?4:e>=c.midLow?3:2}}),v.register("slider_rfy",{cols:function(){var e=this.wide(),t=this.model.get("style_options").items_per_row_override;return t&&e?this.getItemsPerRow(t):e?3:2},initialize:function(e){this.options=e||{},l.extend(this,{entityType:"video",index:0,lastPage:0,startingCount:this.loadedPages=1,slideTime:500,init:!1}),this.$el.addClass("temp-hidden"),this.collection=this.model.data,this.fetchData()},fetchData:function(){var e=this,t=i.Recommender,s=this.collection.first(),a=s&&s.toJSON()||{};l.extend(a,{entity_overrides:{title_overlay:!1}}),t.getRecommendations(a).done(function(t){e.renderFetchedData(t)}).fail(function(){var t=e.model.get("data").slice(1);t.length&&e.renderFetchedData(t)})},renderFetchedData:function(e){var t=new s.Collection(e);this.collection=new s.LazySliderCollection(t.models),this.render(),this.ready(),this.$el.removeClass("temp-hidden").loadLazyImages()}}),v.register("featured_promo_slider",{numFeatured:1,configureData:function(){var e=this;i.geo(function(t,i,a){var n=e.numFeatured,o=e.placeholders=[];if(a){var r=e.collection.where({location:a});e.collection.remove(r),e.collection.add(r,{at:0})}if(n)for(var l={widthClass:"featured",featured:!0},d=new s.Model({widthClass:"empty_placeholder"}),c=0;c<n;c++)o.push(d),e.collection.at(c).set(l)})},formatFeatured:function(){var e=this.wide();this.collection.each(function(t){if(t.get("featured")&&e){var i=t.get("promo_featured");t.set("thumb_data",{src:i})}else{var s=t.get("promo");t.set("thumb_data",{src:s})}}),e?this.collection.add(this.placeholders,{at:1}):this.collection.remove(this.placeholders)},cols:function(){return this.wide()?4:2},render:function(){v.prototype.render.call(this),this.resize()}}),v.register("junior_nav_slider",{breakpoints:[c.max,c.midHigh,h.juniorNavMin].join(" "),cols:function(){var e=p();return e>=c.max?6:e>=c.midHigh?5:e>=h.juniorNavMin?4:3},peekAmount:function(){return.25/Math.sqrt(this.rpp()/.2)}}),v.register("incredibles_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return!!this.model.get("style_options").show_peeking_content},peekAmount:function(){var e=p(),t=this.model.get("style_options"),i=t.show_peeking_content,s=!1,a=!1;return i&&(i.includes("desktop"),s=i.includes("tablet"),a=i.includes("mobile")),e<=c.midLow&&a?.65/Math.sqrt(this.rpp()/.2):e<=c.midUltraHigh&&s?.25/Math.sqrt(this.rpp()/.2):0},transformAmount:function(){var e=p(),t=this.model.get("style_options"),i=t&&t.show_peeking_content,s=!1,a=!1;return i&&(s=i.includes("tablet"),a=i.includes("mobile")),e<=c.midLow&&a?10:e<=c.midUltraHigh&&s?5:0},wide:function(){return p()>=c.max},cols:function(){var e=p(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,a=i.items_per_slide_page,n=4,o=2,r=1;return a&&(n=a.desktop||n,o=a.tablet||o,r=a.mobile||r),s&&t?s:t?n:e>=c.midHigh?o:r}}),v.register("featured_playlist_slider",{show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return(this.model.get("config_options")||{}).show_peek},peekAmount:function(){return.25/Math.sqrt(this.cols()/.3)},wide:function(){return p()>=c.max},cols:function(){var e=p(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,a=this.model.get("config_options"),n=a.items_per_slide_page.mobile;return s&&t?s:t?a.items_per_slide_page.desktop||4:e>=c.midHigh?a.items_per_slide_page.tablet||2:n?parseInt(n,10):1},initialize:function(e){this.model.attributes.data=this.configureItems(),this.model.attributes.see_all_featured=!!this.model.attributes.seeAll,v.prototype.initialize.call(this,e)},configureItems:function(){var e=this.model.data.models,t=this.model.get("config_options"),i=t&&t.image_ratio;return e.forEach(function(e){var t=e.get("images");if(t&&t.desktop){var s=t.desktop.desktop_2x3;"ratio_16x9"===i?s=t.desktop.desktop_16x9:"ratio_1x1"===i&&(s=t.desktop.desktop_1x1),e.set({image_asset:s,image_ratio:i,show_title:!0})}}),e}}),v.register("details_slider",{events:{slide:v.prototype.events.slide,"click .show_details_container .item":function(e){var t=r(e.currentTarget),i=r(t.closest(".details_slider")),s=t.find(".thumb-border")[0],a=r(i).find(".selected")[0],n=r(i).find(".show-outline");if(e.preventDefault(),i.is(this.$el)){var o=t.index()+this.currentPage*this.rppVal;r(a).removeClass("selected");for(var l=0;l<n.length;l++)r(n[0]).removeClass("show-outline");r(s).addClass("selected"),this.setDetails(this.model.data.models[o])}},"keyup .show_details_container .item":function(e){var t=r(e.currentTarget),i=r(t.closest(".details_slider"));if(9===e.keyCode){var s=t.find(".entity-link")[0];r(s).addClass("show-outline")}else if(13===e.keyCode){var a=i.find(".details-text");r(a[0]).focus()}},"keydown .show_details_container .item":function(e){if(9===e.keyCode){var t=r(e.currentTarget),i=r(t.closest(".details_slider")),s=i.find(".show-outline")[0];r(s).removeClass("show-outline")}},"keydown .show_details_container .details-text":function(e){if(9===e.keyCode){var t,i=r(e.currentTarget),s=r(i.closest(".details_slider")),a=s.find(".selected")[0],n=r(a).closest(".item");t=e.shiftKey?n.prev(".item"):n.next(".item");var o=r(t).find(".entity-link");e.preventDefault(),o[0].focus()}}},breakpoints:[h.detailsSliderMax,c.midUltraHigh,h.detailsSliderLow].join(" "),show_dots:!0,align_arrows_vert:"thumbnail",peeking:function(){return p()<=c.midUltraHigh},peekAmount:function(){var e=p();return e>c.midUltraHigh?0:e>=h.detailsSliderLow?.25/Math.sqrt(this.cols()/.3):.5/Math.sqrt(this.cols()/.3)},wide:function(){return p()>h.detailsSliderMax},cols:function(){var e=p(),t=this.wide(),i=this.model.get("style_options"),s=i.items_per_row_override,a=i.mobile_columns;return s&&t?s:t?6:e>c.midUltraHigh?5:e>=h.detailsSliderLow?4:a?parseInt(a,10):2},initialize:function(t){this.model.attributes.data=this.configureDetailsOnLoad(),v.prototype.initialize.call(this,t),e.window.addEventListener("resize",function(){this.verticalAlign()}.bind(this))},configureDetailsOnLoad:function(){
var e=this.model.data.models[0];this.setDetails(e),e.set({selected:!0})},setDetails:function(e){var t=e.get("alt_text"),i=e.get("thumb_data"),s=e.get("title"),a=e.get("description"),n=e.get("alt_display_name"),o=this.$el.find(".slider-details-container"),l=o.find(".thumb"),d=o.find(".title"),c=o.find(".alt-display-name"),h=o.find(".description");l.attr("alt",t),l.attr("data-src",i.src),l.attr("src",i.src),d.text(s),n?(c.text(n),r(c).removeClass("no-name")):r(c).addClass("no-name"),h.text(a);var u={alt_text:t,thumb_data:i,title:s,alt_display_name:n,description:a};return this.details=u,o},verticalAlign:function(){var e=r(this.$el).find(".slider-details-container .details-text"),t=r(this.$el).find(".slider-details-container .aspect");e.height()>t.height()?r(t).css("vertical-align","top"):r(t).css("vertical-align","")}})}(this),Whiskers("partials.preview_slider_item",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="preview-item preview-item-'),s.b(s.v(s.f("index",e,t,0))),s.b(' item init" tabindex="0" data-index='),s.b(s.v(s.f("index",e,t,0))),s.b(' data-action_name="thumbnail"> <div class="img-aspect '),s.s(s.f("video_options",e,t,1),e,t,0,163,251,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("button_background_overlay",e,t,1),e,t,0,194,204,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("overlayed-")}),e.pop()),i.b(i.v(i.f("button_theme",e,t,0))),i.b(" ")}),e.pop()),s.b(" aspect "),s.s(s.f("preloaded",e,t,1),e,t,1,0,0,"")||s.b("placeholder"),s.b('" > '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b(' <img class="thumbnail-image '),s.s(s.f("preloaded",e,t,1),e,t,1,0,0,"")||s.b("no-src"),s.b('" title="'),s.b(s.v(s.f("seo_title",e,t,0))),s.b('" alt="'),s.b(s.v(s.f("seoCaption",e,t,0))),s.b('" data-src="'),s.b(s.v(s.f("thumbnail_image_fog",e,t,0))),s.b('" '),s.s(s.f("preloaded",e,t,1),e,t,0,490,515,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('" ')}),e.pop()),s.b(' itemprop="thumbnailUrl"> ')),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,582,731,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <noscript><img class="thumbnail-image" title="'),i.b(i.v(i.f("seo_title",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("seoCaption",e,t,0))),i.b('" src="'),i.b(i.v(i.f("thumbnail_image_fog",e,t,0))),i.b('" itemprop="thumbnailUrl"></noscript> ')}),e.pop()),s.b(" </div> </li>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Backbone,i=t.View,s=e.Disney,a=e.window,n=t.Resize.width,o=s.Style.breakpoints,r=e._,l=e.$,d=e.Whiskers,c=i.extend({template:d.partials.preview_slider_item,tagName:"li",className:"col item",initialize:function(e){this.options=e||{},this.model=this.options.model,this.render()},render:function(){var e={image_attributes:d.partials.image_attributes},t=r.extend(this.model.toJSON(),this.options);this.$el.html(this.template.render(t,e))}});e.Grill.PreviewSliderView=e.SwipeView.extend({initialize:function(e){this.options=e||{}},render:function(){e.SwipeView.prototype.render.call(this),this.resize()},events:{"focus .preview-item":"changeParentSlide","keydown .preview-item":"handleKeyDown"},focus:function(t){var i=l(e.document.activeElement).data("index"),s=this.$(".preview-item-"+t);if(this.$(".preview-item.init").removeClass("init"),this.$(".preview-item.current").removeClass("current"),s.addClass("current"),t!==i){var n=a.pageXOffset,o=a.pageYOffset;s.trigger("focus"),a.scrollTo(n,o)}},ready:function(){this.init=!0,this.$(".slides ol").swipeasaurus({arrows:!0,loop:!1,right:0,index:this.index,speed:this.slideTime,rtl:s.rtl}),this.init=!1,this.$pages=this.$(".slides ol > li"),this.$slides=this.options.parentSlider.$el,this.updatePageWidths()},updatePageWidths:function(){var e=this.$pages,t=this.thumbnailWidth()*this.cols();r.each(e,function(e){l(e).width(t)})},changeParentSlide:function(e){var t=l(e.currentTarget).data("index")||0;this.$slides.swipeasaurus("slide",t)},handleKeyDown:function(e){return s.rtl&&39===e.keyCode||!s.rtl&&37===e.keyCode?(this.$slides.swipeasaurus("prev"),!1):s.rtl&&37===e.keyCode||!s.rtl&&39===e.keyCode?(this.$slides.swipeasaurus("next"),!1):void 0},thumbnailWidth:function(){return o.midHigh>this.containerWidth()?180:220},cols:function(){return Math.floor(this.containerWidth()/this.thumbnailWidth())},rows:function(){return 1},containerWidth:function(){return Math.min(n(),960)},createItemViews:function(){var e=0;return this.collection.map(function(t){var i={model:t,index:e++};return new c(i)})}})}(this),Whiskers("partials.flex_inline_videoplayer",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="flex-inline-videoplayer video-container"> <div id="'),s.b(s.v(s.f("playerId",e,t,0))),s.b('" class="video-player"></div> <div class="video-controls-container"> <button type="button" aria-label="'),s.b(s.v(s.d("translations.play_clip",e,t,0))),s.b('" class="button ada-el-focus transparent video-playback-control '),s.s(s.d("data.video_options",e,t,1),e,t,0,291,379,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("button_background_overlay",e,t,1),e,t,0,322,332,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("overlayed-")}),e.pop()),i.b(i.v(i.f("button_theme",e,t,0))),i.b(" ")}),e.pop()),s.b('" >'),s.b(s.v(s.d("translations.play",e,t,0))),s.b("</button> </div> </div>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Backbone,s=e.Grill,a=e.Whiskers,n=e.Modernizr,o=e._;s.FlexInlineVideoPlayer=i.View.extend({template:a.partials.flex_inline_videoplayer,initialize:function(e){this.options=e||{},this.render()},render:function(){this.$el.html(this.template.render(this.model)),this.initVideo()},initVideo:function(){this.$videoParent=this.model.get("$videoParent"),this.status={};var e=this.model.get("data");if(!o.isEmpty(e&&e.video_options)){var i,s=e.video,a=e.video_options,r=!a.show_controls,l=!n.touch&&a.autoplay,d={autoPlay:l,autoPlay_mute:a.start_muted,loop:a.loop_video,video:s,skinUrl:{kalturaCssOverrides:"https://static-mh.content.disney.io/matterhorn/assets/videoplayer/skins/flex_inline_videoplayer-bd5e73b6c1b6.css"},hideControlBarContainer:r,hideTopBarContainer:!0,hideLargePlayBtn:!0};d.video.ads={context:{noAds:function(){return!0}},enabled:!1,targeting:this.getAdPosition()},d.video.hideLogo===undefined&&(d.video.hideLogo=!0),i=new t.MatterhornVideoPlayer(this.model.get("playerId"),d),i.messageBus.addMessageListener("played",this.onPlayVideo.bind(this)),i.messageBus.addMessageListener("paused",this.onPauseVideo.bind(this)),i.messageBus.addMessageListener("playComplete",this.onPlayComplete.bind(this)),i.messageBus.addMessageListener("playing",this.onPlaying.bind(this)),this.$(".video-container").addClass("media-not-ready"),i.messageBus.addMessageListener("mediaReady",this.onMediaReady.bind(this)),l&&(this.status.active=!0,this.$videoParent.addClass("video-active video-autoplay")),a.hide_text_on_play&&this.$videoParent.addClass("hide-text-on-play"),i.controls.hide(),this.player=i}},onMediaReady:function(){this.status.mediaReady=!0,this.$(".video-container").removeClass("media-not-ready"),o.isFunction(this.onMediaReadyCallback)&&this.onMediaReadyCallback()},startVideo:function(){this.$videoParent.addClass("video-active video-playing"),this.status.ended=!1,this.status.active=!0,this.status.mediaReady?(this.player.controls.show(),this.player.controls.play()):this.onMediaReadyCallback=this.startVideo},clearOnMediaReadyCallback:function(){this.onMediaReadyCallback=undefined},getAspectPadding:function(){var e;if("resize"===this.model.get("data").video_options.display_type)return e=this.model.get("data").video.externals[0].data,e.height/e.width*100+"%"},onPlayVideo:function(){this.trigger("video:playing"),this.$videoParent.addClass("video-playing").removeClass("video-ended"),this.player.controls.show(),this.status.ended=!1},onPauseVideo:function(){this.trigger("video:paused"),this.$videoParent.removeClass("video-playing")},onPlayComplete:function(){var e=this.model.get("data").video_options;this.trigger("video:playComplete",e),e.loop_video||(e.hide_on_complete?(this.$videoParent.removeClass("video-active video-playing video-autoplay"),this.player.controls.hide(),this.status.active=!1,this.status.ended=!0):(this.status.ended=!0,this.$videoParent.addClass("video-ended").removeClass("video-autoplay video-playing")))},getAdPosition:function(){if(!this.options.cds)return this.adPosition?this.adPosition:(this.adPosition=this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model),this.adPosition)},onPlaying:function(){this.trigger("video:playing")}})}(this),Whiskers("modules.image_gallery_inline",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("preview_active_border_color",e,t,1),e,t,0,32,518,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> .module.image_gallery_inline[id="ref-'),i.b(i.v(i.f("ref",e,t,0))),i.b('"] .preview-slider .slider-page .col-container .col.item .preview-item:focus:before, .module.image_gallery_inline[id="ref-'),i.b(i.v(i.f("ref",e,t,0))),i.b('"] .preview-slider .slider-page .col-container .col.item .preview-item.preview-item-0.init:before, .module.image_gallery_inline[id="ref-'),i.b(i.v(i.f("ref",e,t,0))),i.b('"] .preview-slider .slider-page .col-container .col.item .preview-item.current:before{ border-color: '),i.b(i.v(i.f("preview_active_border_color",e,t,0))),i.b("; } </style> ")}),e.pop()),s.b(' <div class="bound '),s.b(s.v(s.f("entity_type",e,t,0))),s.b('"> '),s.s(s.f("header_data",e,t,1),e,t,0,603,621,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),s.b(' <div class="inline-gallery '),s.s(s.f("show_title",e,t,1),e,t,0,680,690,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("show-title")}),e.pop()),s.b(" "),s.s(s.f("hide_pagination",e,t,1),e,t,0,726,741,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("hide-pagination")}),e.pop()),s.b('"> <div class="gallery-content"> <div class="arrows"> <button class="arrow-sizer prev ada-el-focus" aria-label="'),s.b(s.v(s.d("translations.previous_slide",e,t,0))),s.b('"><span class="'),s.s(s.d("style_options.custom_arrow_icon",e,t,1),e,t,1,0,0,"")||s.b("arrow-prev"),s.b(" clicon "),s.b(s.v(s.d("config_options.caption_position",e,t,0))),s.b('" data-title="prev" data-action_name="prev"></span></button> <button class="arrow-sizer next ada-el-focus" aria-label="'),s.b(s.v(s.d("translations.next_slide",e,t,0))),s.b('"><span class="'),s.s(s.d("style_options.custom_arrow_icon",e,t,1),e,t,1,0,0,"")||s.b("arrow-next"),s.b(" clicon "),s.b(s.v(s.d("config_options.caption_position",e,t,0))),s.b('" data-title="next" data-action_name="next"></span></button> </div> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||s.b(s.t(s.f("imageViewList",e,t,0))),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,1457,1478,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("image_view_list",e,t,0)))}),e.pop()),s.b(" </div> "),s.s(s.f("image_infos",e,t,1),e,t,0,1515,1848,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div class="image-info below-image ada-el-focus image-info-'),i.b(i.v(i.f("index",e,t,0))),i.b(" "),i.s(i.f("title",e,t,1),e,t,1,0,0,"")||i.b("no-title"),i.b(" "),i.s(i.f("caption",e,t,1),e,t,1,0,0,"")||i.b("no-caption"),i.b('" tabindex="-1" data-image-info='),i.b(i.v(i.f("index",e,t,0))),i.b(' style="'),i.s(i.d("caption_styles.background_color",e,t,1),e,t,0,1733,1787,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-color: "),i.b(i.v(i.d("caption_styles.background_color",e,t,0))),i.b(";")}),e.pop()),i.b('"> '),i.b(i.rp("<imageInfo1",e,t,"")),i.b(" </div> ")}),e.pop()),s.b(" </div> "),s.b(s.t(s.f("previewSliderView",e,t,0))),s.b(" </div> "),s.s(s.f("imageGalleryModalView",e,t,1),e,t,0,1929,1956,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("imageGalleryModalView",e,t,0)))}),e.pop()),s.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<imageInfo1":{name:"imageInfo",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_gallery_inline_slide",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="content-container item-'),s.b(s.v(s.f("slide",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b("-"),s.b(s.v(s.f("index",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b(" "),s.s(s.f("has_video",e,t,1),e,t,0,86,97,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("video-slide")}),e.pop()),s.b('" data-id="'),s.b(s.v(s.f("id",e,t,0))),s.b('" data-index="'),s.b(s.v(s.f("index",e,t,0))),s.b('" tabindex="-1"> <div class="image-container '),s.s(s.f("disable_lightbox",e,t,1),e,t,0,217,224,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("disable")}),e.pop()),s.b('"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("image",e,t,1),e,t,0,272,334,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<img class="gallery-image" src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('">')}),e.pop()),s.b(" "),s.s(s.f("has_video",e,t,1),e,t,0,359,434,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <div id="player-'),i.b(i.v(i.f("ref",e,t,0))),i.b("-"),i.b(i.v(i.f("index",e,t,0))),i.b('-container" class="gallery-video"></div> ')}),e.pop()),s.b(" ")),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,476,572,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image_asset",e,t,1),e,t,0,493,555,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img class="gallery-image" src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('">')}),e.pop()),i.b(" ")}),e.pop()),s.b(' </div> <div class="image-info '),s.b(s.v(s.f("caption_position",e,t,0))),s.b(" "),s.s(s.f("title",e,t,1),e,t,1,0,0,"")||s.b("no-title"),s.b(" "),s.s(s.f("caption",e,t,1),e,t,1,0,0,"")||s.b("no-caption"),s.b('" style="'),s.s(s.d("caption_styles.background_color",e,t,1),e,t,0,745,799,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("background-color: "),i.b(i.v(i.d("caption_styles.background_color",e,t,0))),i.b(";")}),e.pop()),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,849,864,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("display: block;")}),e.pop()),s.b('"> '),s.s(s.f("noscript",e,t,1),e,t,1,0,0,"")||s.b(s.rp("<imageInfo0",e,t,"")),s.b(" "),s.s(s.f("noscript",e,t,1),e,t,0,934,949,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("imageInfo",e,t,0)))}),e.pop()),s.b(" </div> </li>"),s.fl()},partials:{"<imageInfo0":{name:"imageInfo",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_gallery_info",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.s(s.f("href",e,t,1),e,t,0,9,408,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.b(i.rp("<href_target0",e,t,"")),i.b('> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="description-container '),i.s(i.f("rich_cap",e,t,1),e,t,0,129,138,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("rich-text")}),e.pop()),i.b('"> '),i.s(i.f("rich_cap",e,t,1),e,t,0,167,181,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("rich_cap",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("rich_cap",e,t,1),e,t,1,0,0,"")||(i.b('<p class="description">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")),i.b(' <span class="image-count base-color"> <span class="current-count">'),i.b(i.v(i.f("ui_index",e,t,0))),i.b("</span> <span>/</span> <span>"),i.b(i.v(i.f("numImages",e,t,0))),i.b("</span> </span> </div> </a> ")}),e.pop()),s.b(" "),s.s(s.f("href",e,t,1),e,t,1,0,0,"")||(s.b(' <div class="title">'),s.b(s.v(s.f("title",e,t,0))),s.b('</div> <div class="description-container '),s.s(s.f("rich_cap",e,t,1),e,t,0,510,519,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b("rich-text")}),e.pop()),s.b('"> '),s.s(s.f("rich_cap",e,t,1),e,t,0,548,562,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(i.t(i.f("rich_cap",e,t,0)))}),e.pop()),s.b(" "),s.s(s.f("rich_cap",e,t,1),e,t,1,0,0,"")||(s.b('<p class="description">'),s.b(s.v(s.f("caption",e,t,0))),s.b("</p>")),s.b(' <span class="image-count base-color"> <span class="current-count">'),s.b(s.v(s.f("ui_index",e,t,0))),s.b("</span> <span>/</span> <span>"),s.b(s.v(s.f("numImages",e,t,0))),s.b("</span> </span> </div> ")),s.fl()},partials:{"<href_target0":{name:"href_target",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_gallery_modal",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<div class="modal-window"> <button class="modal-close clicon ada-el-focus" data-title="close" aria-label="'),s.b(s.v(s.d("translations.close",e,t,0))),s.b('"></button> <div class="modal-header"></div> <div class="modal-content"> '),s.b(s.t(s.f("imageViewList",e,t,0))),s.b(' <div class="arrows"> <button class="arrow-sizer prev ada-el-focus"><span class="arrow-prev clicon" data-title="prev" aria-label="'),s.b(s.v(s.d("translations.previous",e,t,0))),s.b('"></span></button> <button class="arrow-sizer next ada-el-focus"><span class="arrow-next clicon" data-title="next" aria-label="'),s.b(s.v(s.d("translations.next",e,t,0))),s.b('"></span></button> </div> </div> <div class="modal-footer"> '),s.s(s.d("style_options.exclude_share",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("cds",e,t,1),e,t,1,0,0,"")||(s.b(" "),s.s(s.f("suppress_social",e,t,1),e,t,1,0,0,"")||(s.b(' <span class="social"> '),s.b(s.rp("<partials/social_btn0",e,t,"")),s.b(" </span> ")),s.b(" ")),s.b(" ")),s.b(" "),s.s(s.d("style_options.allow_download",e,t,1),e,t,0,797,1809,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b(' <a class="ada-el-focus download button" download role="button" '),i.s(i.d("style_options.download_button_color",e,t,1),e,t,0,901,968,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="background-color: '),i.b(i.v(i.d("style_options.download_button_color",e,t,0))),i.b('" ')}),e.pop()),i.b('> <svg viewBox="0 0 21 20" xmlns="http://www.w3.org/2000/svg" '),i.s(i.d("style_options.download_button_lightness",e,t,1),e,t,0,1114,1147,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="fill: black;stroke: black"')}),e.pop()),i.b('> <path d="M1,19 L20,19 L20,11.5 L20,11 L21,11 L21,11.5 L21,19.5 L21,20 L20,20 L1,20 L0,20 L0,19.5 L0,11.5 L0,11 L1,11 L1,11.5 L1,19 Z M11,12.2928932 L15.1464466,8.14644661 L15.5,7.79289322 L16.2071068,8.5 L15.8535534,8.85355339 L11.2071068,13.5 L10.5,14.2071068 L10.1464466,13.8535534 L5.14644661,8.85355339 L4.79289322,8.5 L5.5,7.79289322 L5.85355339,8.14644661 L10,12.2928932 L10,0.5 L10,0 L11,0 L11,0.5 L11,12.2928932 Z"> </path> </svg> <span class="download-text" '),i.s(i.d("style_options.download_button_lightness",e,t,1),e,t,0,1704,1726,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="color: black" ')}),e.pop()),i.b(">"),i.b(i.v(i.d("translations.download",e,t,0))),i.b("</span> </a> ")}),e.pop()),s.b(' <button class="print ada-el-focus" aria-label="'),s.b(s.v(s.d("translations.print",e,t,0))),s.b('"></button> <span class="image-count"><span class="current-count">1</span> <span>'),s.b(s.v(s.d("translations.of",e,t,0))),s.b("</span> <span>"),s.b(s.v(s.f("totalImages",e,t,0))),s.b('</span></span> </div> <div class="loading-status"><span>'),s.b(s.v(s.d("translations.loading",e,t,0))),s.b('...</span></div> <div class="modal-info"> <h2 class="modal-title skip-text-styles">'),s.b(s.v(s.f("gallery_title",e,t,0))),s.b('</h2> </div> </div> <div class="modal-overlay"></div>'),s.fl()},partials:{"<partials/social_btn0":{name:"partials/social_btn",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_gallery_slide",{code:function(e,t,i){"use strict";var s=this;return s.b(i=i||""),s.b('<li class="content-container item-'),s.b(s.v(s.f("slide",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b("-"),s.b(s.v(s.f("index",e,t,0))),s.b(" "),s.b(s.v(s.f("type",e,t,0))),s.b('" data-id="'),s.b(s.v(s.f("id",e,t,0))),s.b('"> <div class="image-info"> '),s.s(s.f("caption",e,t,1),e,t,0,128,166,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")}),e.pop()),s.b(' </div> <div class="gallery-image-sizer"> '),s.s(s.f("ad",e,t,1),e,t,0,227,458,"{{ }}")&&(s.rs(e,t,function(e,t,i){i.b('<div class="interstitial-container"> <div class="gallery_ad"><div class="ad-sizer"></div></div> </div> <p class="skip-ad"><span class="skip-prev"></span><span class="skip-text">'),i.b(i.v(i.f("skipText",e,t,0))),i.b('</span><span class="skip-next"></span></p>')}),e.pop()),s.b(" "),s.s(s.f("ad",e,t,1),e,t,1,0,0,"")||s.b(' <img class="gallery-image"> '),s.b(" </div> </li>"),s.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Backbone,s=e.Disney,a=e._,n=e.$,o=e.Whiskers,r=e.history;t.ImageGalleryModal=t.ModuleView.extend({tagName:"div",className:"image-gallery-modal",template:o.partials.image_gallery_modal,included_components:{"partials/social_btn":o.partials.social_btn},events:{"click .modal-close":function(){this.close()},"click .skip-ad":function(e){n(e.target).hasClass("skip-prev")?this.prev():this.next()},"click .arrow-sizer.prev":function(){this.prev()},"click .arrow-sizer.next":function(){this.next()},"click .print":function(){var e=this.$el.parents(".module.image_gallery, .module.image_gallery_inline");e.addClass("include-in-print"),this.$el.addClass("hide-from-print"),this.printExclusive(),e.removeClass("include-in-print")},"touchstart .print":function(){this.printExclusive()}},resizeParams:{},initialize:function(e){this.options=e||{},this.numSlides=this.collection.length,this.imageViewList=new t.ListView({className:"modal-slides",collection:this.collection,template:{render:function(e){a.extend(e,{imgSrc:function(){return i.Resize.width()<=568?this.get("mobile_image"):this.get("image")}});var t=e.get("image_no_crop")?e.get("image_no_crop"):e.get("image");return e.set("printSrc",t||null),o.partials.image_gallery_slide.render(e,{})}}})},render:function(){var e=a.extend(this.options,{suppress_social:!1,imageViewList:s.placeHtml(this.imageViewList)});this.$el.html(this.template.render(e,this.ctx_additions())),s.placeSwap(this,this.imageViewList),this.ready()},ready:function(){var t=this;this.$modal=this.$(".modal-window"),this.$slides=this.imageViewList.$el,this.$(".content-container").css("visibility","hidden"),n("html").addClass("single-page-print"),this.$(".modal-window").on("keyup",function(e){if("visible"===t.$modal.css("visibility"))switch(e.keyCode){case 27:t.close();break;case 37:t.prev();break;case 39:t.next()}}),e.setTimeout(function(){t.$modalAd=n(".interstitial-container .gallery_ad").first()},0)},printExclusive:function(){n("body").addClass("exclusive-print"),e.print()},open:function(e){this.$slides.swipeasaurus({arrows:!0,loop:!1,speed:500});var t=this;this.$slides.on("slide",function(e,i){t.onSlide(i)});var i=this.viewForIndex(e);this.$modal.addClass("first-shown"),this.$slides.swipeasaurus("effect","fade"),this.onSlide(e),this.$slides.swipeasaurus("slide",e),this.$slides.swipeasaurus("effect","slide"),this.$modal.addClass("modal-show"),i.$el.css("visibility","visible"),this.$el.css("display","block"),n("html").addClass("modal-no-scroll")},close:function(){this.$(".modal-close").data("currentitem",this.currentImage),this.$modal.removeClass("modal-show loading"),this.$(".content-container").css("visibility","hidden"),n("html").removeClass("modal-no-scroll"),this.unbindResize(this.currentSlide),this.$slides.css("visibility","hidden"),this.$el.css("display","none"),this.$slides.off(),this.trigger("close",this.currentImage)},next:function(){this.$slides.swipeasaurus("next")},prev:function(){this.$slides.swipeasaurus("prev")},viewForIndex:function(e){return this.imageViewList.views[e]},onSlide:function(t){var i=this,a=this.$(".modal-window"),o=this.$(".modal-footer .social-link-btn"),l=this.$(".modal-footer .download"),d=this.viewForIndex(t),c=d.$el.data("id"),h=d.model,u=h.get("ad"),p=t<this.numSlides-1?t+1:null,m=t>0?t-1:null,f=this.numSlides-1,g={next:p,prev:m},v=e.document.title;if(0===t?this.$(".arrow-prev").css("visibility","hidden"):this.$(".arrow-prev").css("visibility","visible"),t===f?this.$(".arrow-next").css("visibility","hidden"):this.$(".arrow-next").css("visibility","visible"),i.itemLoaded(d)||(this.preloadItem(d,t),u||a.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=g,this.currentImage=h.get("index"),this.currentSlide=t,this.currentView=d,this.$(".current").removeClass("current"),d.$el.addClass("current"),u&&(this.$modalAd.find(".ad-sizer").length>0&&this.initializeModalAd(d),this.insertAd(d)),n.each(g,function(e,a){if(a){var n=i.viewForIndex(a);i.itemLoaded(n)?s.Style.fitToScreen(i.fetchResizeParams(a)):i.preloadItem(n,t)}}),this.options.style_options.allow_download&&!u){var b=d.$el.data("downloadURL");b?(l.attr("href",b),l.attr("download",d.$el.data("downloadName"))):this.setDownloadInfo(l,d)}this.setNewText(d),this.insertPrintData(d),d.$el.css("visibility","visible"),d.$el.css("opacity",1),a.hasClass("first-shown")&&e.setTimeout(function(){i.$(".modal-window").removeClass("first-shown"),a.find(".modal-close").trigger("focus")},800),s.Style.fitToScreen(i.fetchResizeParams(t)),r&&r.replaceState&&r.replaceState({},v,c?"?image_id="+d.$el.data("id"):"?"),o.data("source",e.location.href),o.data("thumb",d.model.get("printSrc")),this.trigger("slide",this.currentImage)},bindResize:function(t){var i=this,o=i.fetchAdjacents(),r=function(){s.Style.fitToScreen(i.fetchResizeParams(t)),o&&o.length>0&&n(o).each(function(e,t){s.Style.fitToScreen(i.fetchResizeParams(t))})};n(e).on("resize."+this.cid+"slide"+t,a.debounce(r,100))},unbindResize:function(t){n(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var i=t.$el,s=this.$(".modal-window"),a=this.$(".modal-header"),n=i.find(".image-info"),o="item"+t.model.get("slide");return this.resizeParams[o]=[e,s,a,n,.46],this.resizeParams[o]},fetchResizeParams:function(e){return this.resizeParams["item"+e]},fetchAdjacents:function(){return this.adjacents},itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var i=e.$el.find("img")[0];t=i&&!!i.src}return t},preloadItem:function(t){var s=this,a=t.model;if(!a.get("ad")){var o=a.get("image_no_crop")?a.get("image_no_crop"):a.get("image")||a.attributes.image,r=i.Resize.width()<=568&&a.get("mobile_image")?a.get("mobile_image"):o,l=a.get("alt_text"),d=new e.Image;d.className="gallery-image",d.src=r,d.alt=l,d.complete?s.insertNewItem(t,d):n(d).on("load",function(){s.insertNewItem(t,d)})}else s.insertNewItem(t)},insertNewItem:function(e,t){var i;if(e.model.get("ad"))i=this.$modalAd;else{var s=e.$el.find("img")[0]||null;s&&t&&n(s).replaceWith(t),i=t}this.sizeItem(i,e),this.$(".modal-window").removeClass("loading")},sizeItem:function(t,i){var s,a,n,o=this;if(t===this.$modalAd){var r=t.find(".ad-sizer, .gpt, .admaster");s=r.height(),a=r.width(),n=!0,this.fitToScreen(a,s,n,t,i)}else{var l=new e.Image;l.addEventListener("load",function(){s=l.height,a=l.width,n=!1,o.fitToScreen(a,s,n,t,i)},!1),l.src=t.src}},fitToScreen:function(e,t,i,a,n){var o={height:t,width:e,limitMax:i,item:a};n.aspectRatio=t/e,s.Style.fitToScreen(this.setResizeParams(o,n)),this.$(".modal-window").removeClass("loading")},setDownloadInfo:function(e,t){var i=t.model.get("title"),s="download=true",a=t.model.get("printSrc"),n=a.split("?"),o=n[0].split(".").pop(),r=n[1];if(r=r?r+"&"+s:s,a=n[0]+"?"+r,e.attr("href",a),t.$el.data("downloadURL",a),i){i=i.trim().replace(/[^A-Za-z0-9\s]/g,"").replace(/\s+/g,"-");var l=i+"."+o;e.attr("download",l),t.$el.data("downloadName",l)}},setNewText:function(e){var t=parseInt(e.model.get("index"),10),i=this.fetchAdjacents().next,s=this.fetchAdjacents().prev,a=i?this.viewForIndex(i).model:e.model,n=s?this.viewForIndex(s).model:e.model,o=e.model.get("ad"),r=this.$(".modal-window");o?r.addClass("ad-view"):(this.$(".current-count").html(t+1),r.removeClass("ad-view")),this.$(".arrow-prev").data({currentitem:i?a.get("index"):this.numSlides,viewtype:a.get("type")}),this.$(".arrow-next").data({currentitem:s?n.get("index"):0,viewtype:n.get("type")})},insertPrintData:function(e){var t=n("#print-image img")[0],i=e.model.get("printSrc"),s=e.model.get("caption");t&&(t.src=i),n("#print-image .caption").html(s)},insertAd:function(e){var t=this.$modalAd.detach(),i="modalInterstitial";e.$el.find(".interstitial-container").html(t),this.options.ads.slots[i]&&this.options.ads.slots[i].refresh()},initializeModalAd:function(e){var t=this.options.ads.tag("modalInterstitial"),i=e.$el.find(".interstitial-container .gallery_ad");i.html(t),this.options.ads.slots.modalInterstitial.ready(),this.$modalAd=i},remove:function(){n("html").removeClass("single-page-print")}})}(this),function(e){"use strict";var t=e.Disney,i=e.Math,s=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],a=t&&t.item,n=t.height/t.width||0,o=t.limitMax,r=e[1],l=e[2]&&e[2].height()||0,d=e[3],c=d&&d.height()||0,h=e[4]||.5,u=r.height(),p=u-l-c,m=r.width(),f=o?t.width:i.min(p/n,m),g=o?t.height:f*n,v=i.max(i.abs(p-g)*h,0),b=v+g;d.css({top:b}),a&&s(a).css({height:g,width:f,top:v})}}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,s=e.Whiskers,a=e.Backbone,n=e.Tracker,o=e._,r=e.jQuery,l=i.Style.breakpoints,d=o.values(l),c=13,h=e.history;t.ModuleView.register("image_gallery_inline",{style_classes:["skip-top-border"],template:s.modules.image_gallery_inline,required_template_sets:["module_header"],breakpoints:d.join(" "),videoPlayers:{},initialize:function(i){this.options=i||{};var n=this,l=this.model,d=o.first(this.model.get("data")),c=this.model.get("config_options")||{},h=this.model.get("style_options")||{},u=!!this.options.cds,p=this.model.get("data"),m=[];if(p.forEach(function(e){if("movie_image"===e.entity_type){var t={};t.image=e.images.movie_image.image,t.title=e.title,t.alt_text=e.alt_text,m.push(t)}else e.gallery_images&&(m=m.concat(e.gallery_images))}),o.extend(this,{allImages:m,numImages:m.length,galleryImages:[],cmsID:d.id,show_preview_slider:c.show_preview_slider,show_title:c.show_title,hide_pagination:c.hide_pagination,preview_active_border_color:c.preview_active_border_color,caption_styles:h.caption_styles||{},imageIds:[]}),r.each(this.allImages,function(e,t){var i=t&&t.image||"",s=i.substring(i.lastIndexOf("/")+1).split(".")[0];n.imageIds.push(s),t.id=s,t.index=e,t.ui_index=e+1,t.numImages=m.length,t.type="image",t.caption=t.caption||t.title,n.galleryImages.push(t)}),this.hasVideoContent()&&(this.assets={scripts:["https://static-mh.content.disney.io/matterhorn/assets/videoplayer-ff11179f50e4.js"]},this.galleryImages=this.addVideoInfo(this.galleryImages)),this.galleryCollection=new a.LazyCollection(this.galleryImages),this.imageViewList=new t.ListView({className:"inline-gallery-slides",collection:this.galleryCollection,template:{render:function(e){return o.extend(e,{imgSrc:function(){return a.Resize.width()<=568?this.get("mobile_image"):this.get("image")},ref:l.get("ref"),caption_position:c.caption_position,disable_lightbox:c.disable_lightbox,caption_styles:h.caption_styles||{}}),s.partials.image_gallery_inline_slide.render(e,{imageInfo:s.partials.image_gallery_info,href_target:s.partials.href_target})}}}),this.show_preview_slider){var f=o.clone(this.model);f.attributes=o.omit(this.model.attributes,"header_data"),this.previewSliderView=new e.Grill.PreviewSliderView({className:"preview-slider",collection:this.galleryCollection,parentSlider:this.imageViewList,model:f,ads:this.options.ads})}c.copy_alignment&&h.additional_style_classes&&h.additional_style_classes.push(c.copy_alignment),this.imageGalleryModalView=new e.Grill.ImageGalleryModal({cds:u,ads:this.options.ads,translations:this.model.get("translations"),collection:this.galleryCollection,totalImages:this.numImages,style_options:h,gallery_title:d.gallery_title||""}),c.disable_lightbox||this.imageGalleryModalView.on("close",this.onClose.bind(this))},render:function(){var e,t=this.imageViewList,a=this.previewSliderView;e=o.extend(this.model,{numImages:this.numImages,cds:this.cds,show_title:this.show_title,hide_pagination:this.hide_pagination,preview_active_border_color:this.preview_active_border_color,image_infos:this.galleryImages,imageViewList:i.placeHtml(t),previewSliderView:i.placeHtml(a),caption_styles:this.caption_styles,imageGalleryModalView:i.placeHtml(this.imageGalleryModalView)}),this.$el.html(this.template.render(e,{imageInfo:s.partials.image_gallery_info,module_header:s.partials.module_elements.module_header})),i.placeSwap(this,t),i.placeSwap(this,a),i.placeSwap(this,this.imageGalleryModalView),this.imageViewList.$el.first().addClass("current"),this.setBelowCaptionHeight()},ready:function(){var t=this,s=this.model.get("style_options"),a=e.devicePixelRatio>1.5,n=this.viewForIndex(0);if(this.$slides=this.imageViewList.$el,this.$slides.swipeasaurus({arrows:!0,next:"#"+this.$el.attr("id")+" .arrow-sizer.next",prev:"#"+this.$el.attr("id")+" .arrow-sizer.prev",loop:!1,speed:500,rtl:i.rtl,sliderHeight:"activeSlide"}),this.$slides.on("slide",function(e,i,s){t.onSlide(i,s)}).on("touchstart",this.onTouchStart.bind(this)),s&&s.custom_arrow_icon){var o=s&&s.custom_arrow_icon,r=a&&o.retina?o.retina:o.normal||o.retina
;this.$(".arrow-sizer > span").addClass("image-overidden").css("background-image","url('"+r+"')")}this.preloadItem(n),this.trackImage(n),this.setNewText(n),this.hasVideoContent()&&(this.$el.addClass("has-video-content"),this.initVideoPlayer(),this.show_preview_slider&&this.addPreviewSliderPlayOverlay()),this.deepLink()},deepLink:function(){var t=e.location.href.match(/[?&]image_id=([^&]+)#?/)||[],i=e.location.hash.match(/image\/([a-z0-9]*)/)||[],s=t[1]||i[1],a=s&&s.length?this.imageIds.indexOf(s):-1;a>=0&&(this.autoPaginate=!1,this.openModal(a))},resize:function(){var e,t=this.view.$el.find("img")[0],i=t&&t.height||0,s=t&&t.width||0;e=Math.floor(this.view.$el[0].clientWidth*i/s),this.$(".current").toggleClass("tall-image",e>this.view.$el[0].clientHeight),this.setBelowCaptionHeight()},events:{"click li.content-container:not(.video-autoplay) .video-controls-container":function(e){var t=r(e.target);if(!t.hasClass("playkit-icon")&&!t.hasClass("playkit-overlay-action")){e.stopPropagation();var i=this.videoPlayers[this.getPlayerId()];i&&i.startVideo()}},"keydown .flex-inline-videoplayer .video-playback-control":function(e){if(e.keyCode===c){e.preventDefault();var t=this.videoPlayers[this.getPlayerId()];t&&(t.startVideo(),this.getActiveSlide().trigger("focus"))}},"keydown li.content-container":function(e){var t=this.videoPlayers[this.getPlayerId()],i=r(e.currentTarget);e.keyCode===c&&t&&(e.preventDefault(),i.hasClass("video-playing")?t.player.controls.pause():t.startVideo())},"focus li.content-container :focusable":function(e){var t=r(e.currentTarget),i=t.closest("li.content-container"),s=i.data("index")||0;this.$slides.swipeasaurus("slide",s)},"click .gallery-image, .inline-gallery .image-info":function(e){var t=r(e.currentTarget);if(!(this.model.get("config_options")||{}).disable_lightbox&&!t.find("a").attr("href")){e.preventDefault();var i;if(t.hasClass("image-info")){if(t.hasClass("below-image"))return void this.openModal(r(t).data("image-info"));t=t.closest(".image-info")}i=t.closest(".content-container").index(),this.openModal(i)}}},hasVideoContent:function(){return o.any(this.galleryImages,function(e){return!!e.video})},addPreviewSliderPlayOverlay:function(){var e=this.$(".preview-slider .slides .col.item");o.each(this.galleryImages,function(t,i){t.has_video&&r(e.get(i)).addClass("video-slide")})},addVideoInfo:function(e){return o.map(e,function(e){return e.has_video=!!e.video,e})},getActiveSlide:function(){return this.imageViewList.$el.find(".current")},getActiveSlideIndex:function(){return this.getActiveSlide().data("index")},getPlayerId:function(e){return"player-"+this.model.get("ref")+"-"+(e!==undefined?e:this.getActiveSlideIndex())},getPlayerContainerId:function(e){return this.getPlayerId(e)+"-container"},hasVideoPlayerEl:function(e){return this.$("#"+this.getPlayerId(e)).children().length>0},initVideoPlayer:function(){var e=this.getPlayerId(),i=this.getPlayerContainerId(),s=this.getActiveSlideIndex(),n=this.galleryImages[s];if(n.has_video&&!this.hasVideoPlayerEl()){var o=new t.FlexInlineVideoPlayer({el:this.$("#"+i),model:new a.Model({data:n,playerId:e,$videoParent:this.getActiveSlide(),translations:this.model.get("translations")})});o.player&&(this.videoPlayers[e]=o,this.disableTouch=!1,this.listenTo(o,"video:playing",function(){this.disableTouch=!0}),this.listenTo(o,"video:paused",function(){this.disableTouch=!1}))}},handleVideoSlide:function(e,t){var i=this.videoPlayers[this.getPlayerId(t)],s=this.videoPlayers[this.getPlayerId(e)];i&&i.player&&i.player.controls.pause(),s&&s.player&&(!s.status.ended&&s.player.config.autoPlay?s.player.controls.play():s.status.active&&s.player.controls.show())},itemLoaded:function(e){return!!e.$el.find("img").attr("src")},preloadItem:function(t){var i,s,n,o=this,l=t.model;this.view=t,i=a.Resize.width()<=568?l.get("mobile_image"):l.get("image"),s=new e.Image,0!==t.model.get("index")?s.addEventListener("load",function(){(n=Math.floor(t.$el[0].clientWidth*s.height/s.width))>t.$el[0].clientHeight&&t.$el.addClass("tall-image")},!1):t.$el.addClass("first-image"),s.className="gallery-image",s.src=i,s.alt=l.get("alt_text"),s.complete?o.insertNewItem(t,s):r(s).on("load",function(){o.insertNewItem(t,s)})},insertNewItem:function(e,t){var i;i=e.$el.find("img")[0],i&&t&&r(i).replaceWith(t),this.$(".inline-gallery").removeClass("loading")},onSlide:function(e,t){var i=this,s=this.$(".inline-gallery"),a=this.viewForIndex(e),n=e<this.numImages-1?e+1:null,o=e>0?e-1:null,l={next:n,prev:o};i.itemLoaded(a)||(this.preloadItem(a),s.addClass("loading")),this.$(".current").removeClass("current"),a.$el.addClass("current"),r.each(l,function(e,t){if(t){var s=i.viewForIndex(t);i.itemLoaded(s)||i.preloadItem(s)}}),this.setNewText(a),this.trackImage(a),this.previewSliderView&&this.previewSliderView.focus(e),this.handleVideoSlide(e,t),this.initVideoPlayer()},onTouchStart:function(){this.disableTouch&&this.$slides.swipeasaurus("disableTouch")},setNewText:function(e){var t=e.model.get("index"),i=this.$(".image-info.below-image");i.toggleClass("visible",!1),i.filter(".image-info-"+t).toggleClass("visible",!0)},setBelowCaptionHeight:function(){var e,t=this.$(".image-info.below"),i=[];r.each(t,function(e,t){t.style.height="auto",i.push(t.clientHeight)}),e=Math.max.apply(Math,i),r.each(t,function(t,i){i.style.height=e+"px"})},viewForIndex:function(e){return this.imageViewList.views[e]},trackImage:function(e){var t=e.model,i=t.get("title")||"",s=i.toLowerCase().replace(/\s+/g,"");n.trackEvent({engagementType:"inlinegallery_"+this.cmsID+"_"+s})},openModal:function(e){this.imageGalleryModalView.open(e)},onClose:function(){this.$(".gallery-image.active").removeClass("active"),h&&h.replaceState&&h.replaceState({},e.document.title,"?")}})}(this);